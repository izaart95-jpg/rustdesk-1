name: sshx.io Connection with URL Capture

on:
  workflow_dispatch:

jobs:
  sshx-connection:
    runs-on: ubuntu-latest
    timeout-minutes: 15

    steps:
      - name: Run sshx.io and capture URL
        run: |
          echo "=== Running sshx.io ==="
          echo "The connection URL will appear below once sshx starts..."
          echo "This workflow will remain active for up to 10 minutes."
          echo ""
          echo "Waiting for sshx.io connection..."
          
          # Run sshx - it will output the URL
          curl -sSf https://sshx.io/get | sh
